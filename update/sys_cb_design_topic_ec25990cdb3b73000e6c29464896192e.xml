<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__6c25990c543b7300e1d1751f2165562b">6825990cdb3b73000e6c29464896192c</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"1d01bf8365d3463cbb6b6f5f88e62856","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"1d01bf8365d3463cbb6b6f5f88e62856"}],"goals":[{"name":"primary","trigger_id":"1d01bf8365d3463cbb6b6f5f88e62856","nodes":[{"type":"StartGoal","goal_id":"d19d448f83b6446d9390e0471773212a","greeting_msg":{"type":"String","mode":"string","value":""},"id":"b1d06ebd69b945bf80d8f54eaf75cf72","name":"Start"},{"type":"TerminateGoal","goal_id":"d19d448f83b6446d9390e0471773212a","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"b856ca54e73d4475900a094ea772e94d","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"755a0cebbce94df88df073ed46c9cef9","name":"Needlt Type","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"9977372ef1f543beac8699bfa686cc89","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"{{vaInputs.needlt_type}}"},"id":"d3c3a7a088974805b92120e6f9804ac1","name":"Confirm Needlt Type","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run \n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n    */\n    return 'You selected: '+ vaInputs.needlt_type.getDisplayValue();\n})()\n"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"0c7d58560ad240c68251ed65fd70cf78","name":"NeedIt List","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"0718f9c19d8f48d5bbe26eefbc8d75c8","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n    \n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n\n   // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number and short_description for the\n\t    // NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \": \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n    \n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n\n   // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number and short_description for the\n\t    // NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \": \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"0718f9c19d8f48d5bbe26eefbc8d75c8","fields":["priority","short_description","u_when_needed"],"id":"2999ea9f45704d76a36b208d43c5362a","name":"NeedIt Card","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"c648ab3dc45b4441b1baa1f49c3233f9","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"8d378df24e3b473381f6e23f8cb773a3","name":"Search Again","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"702c31c654ca476589cd3ed8aad875fd","name":"No"},{"type":"Branch","label":"Always","expression":{"type":"Applicability","mode":"query","value":""},"id":"1ee05a7753cd42a383a57b740124dd90","name":"Always"}],"id":"0c7da07af6f34772bf1036b16db23f1e","goal_id":"d19d448f83b6446d9390e0471773212a"},{"type":"InputPrompt","variable_id":"d1e5ac1b97004ab58ac245592f058d9e","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"2e460f20907b4d088de436004ab38fe6","name":"New When Needed Date","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"0718f9c19d8f48d5bbe26eefbc8d75c8","id":"70441f194c654e9fb1c36275dfaec728","name":"Change When Needed Date","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"0718f9c19d8f48d5bbe26eefbc8d75c8","fields":["u_when_needed"],"id":"7bc0060224a548dd91e5a817af19633b","name":"Update Needlt","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e707419d620244d48c6768c57e4b2d42","name":"What to update?","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"80c0c111d682457da0c1e46e909dcdcb","message":{"type":"String","mode":"string","value":"What's updateÂ "},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Update Field","branches":[{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":""},"id":"be68dec30dcd411d8f29798258cdc9a7","name":"When needed"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":""},"id":"42cb178899294a25b4b277f6af3802e6","name":"Nothing"},{"type":"Branch","label":"Short ","expression":{"type":"Applicability","mode":"query","value":""},"id":"8c297afdd31a48bd9246fc526e57a33d","name":"Short "}],"id":"7d415980c232462f8f239a6995601585","goal_id":"d19d448f83b6446d9390e0471773212a"},{"type":"InputPrompt","variable_id":"8ae3a1731f1945ae8c3c121794302c1d","message":{"type":"String","mode":"string","value":"This is new short description"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"dc7b369925854791852376e7cdaa3d2d","name":"New short description","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"0718f9c19d8f48d5bbe26eefbc8d75c8","id":"73dd5adfab2e49aaa4e3c87046e69989","name":"Change Short Description","goal_id":"d19d448f83b6446d9390e0471773212a","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"73dd5adfab2e49aaa4e3c87046e69989","target_node_id":"7bc0060224a548dd91e5a817af19633b","id":"a5b604a22d184553a309b50b4744a1e2"},{"type":"Edge","source_node_id":"b1d06ebd69b945bf80d8f54eaf75cf72","target_node_id":"755a0cebbce94df88df073ed46c9cef9","id":"4346894c53e54befb591c7358fb210ab"},{"type":"Edge","source_node_id":"755a0cebbce94df88df073ed46c9cef9","target_node_id":"d3c3a7a088974805b92120e6f9804ac1","id":"957caf9e558b40b38ee22faa556a4832"},{"type":"Edge","source_node_id":"d3c3a7a088974805b92120e6f9804ac1","target_node_id":"0c7d58560ad240c68251ed65fd70cf78","id":"733d000593fc43f383243154679285d6"},{"type":"Edge","source_node_id":"0c7d58560ad240c68251ed65fd70cf78","target_node_id":"2999ea9f45704d76a36b208d43c5362a","id":"dd327c3610bf411f843f488e9e83313d"},{"type":"Edge","source_node_id":"8d378df24e3b473381f6e23f8cb773a3","target_node_id":"0c7da07af6f34772bf1036b16db23f1e","id":"e5cb3b234e024d22a238ce1850b3ca0c"},{"type":"Edge","source_node_id":"0c7da07af6f34772bf1036b16db23f1e","target_node_id":"b856ca54e73d4475900a094ea772e94d","branch_id":"702c31c654ca476589cd3ed8aad875fd","id":"3bd95f379e78408b9a04243a5b4e2d86","name":"702c31c654ca476589cd3ed8aad875fd"},{"type":"Edge","source_node_id":"0c7da07af6f34772bf1036b16db23f1e","target_node_id":"755a0cebbce94df88df073ed46c9cef9","branch_id":"1ee05a7753cd42a383a57b740124dd90","id":"e36224b50e4449db8332e25854b3e261","name":"1ee05a7753cd42a383a57b740124dd90"},{"type":"Edge","source_node_id":"2e460f20907b4d088de436004ab38fe6","target_node_id":"70441f194c654e9fb1c36275dfaec728","id":"00ab668f561e4ad49e9c972ceb724dbd"},{"type":"Edge","source_node_id":"70441f194c654e9fb1c36275dfaec728","target_node_id":"7bc0060224a548dd91e5a817af19633b","id":"58891bbfecd64cfdb2d0ac673b4c4374"},{"type":"Edge","source_node_id":"7bc0060224a548dd91e5a817af19633b","target_node_id":"8d378df24e3b473381f6e23f8cb773a3","id":"07a9a70505ca400b848ca42fa8181c59"},{"type":"Edge","source_node_id":"2999ea9f45704d76a36b208d43c5362a","target_node_id":"e707419d620244d48c6768c57e4b2d42","id":"ee21ee4bdd5745d1aace10ecfa5e960f"},{"type":"Edge","source_node_id":"e707419d620244d48c6768c57e4b2d42","target_node_id":"7d415980c232462f8f239a6995601585","id":"308d6829b26842e4883dfe24fd9bff7c"},{"type":"Edge","source_node_id":"7d415980c232462f8f239a6995601585","target_node_id":"2e460f20907b4d088de436004ab38fe6","branch_id":"be68dec30dcd411d8f29798258cdc9a7","id":"6698352aa77a4654845b8e8893838c9d","name":"be68dec30dcd411d8f29798258cdc9a7"},{"type":"Edge","source_node_id":"7d415980c232462f8f239a6995601585","target_node_id":"8d378df24e3b473381f6e23f8cb773a3","branch_id":"42cb178899294a25b4b277f6af3802e6","id":"f3c5efc187644ab98c01c2e051cc096e","name":"42cb178899294a25b4b277f6af3802e6"},{"type":"Edge","source_node_id":"7d415980c232462f8f239a6995601585","target_node_id":"dc7b369925854791852376e7cdaa3d2d","branch_id":"8c297afdd31a48bd9246fc526e57a33d","id":"ab2f5c4ba06949099732a9b3a25affa2","name":"8c297afdd31a48bd9246fc526e57a33d"},{"type":"Edge","source_node_id":"dc7b369925854791852376e7cdaa3d2d","target_node_id":"73dd5adfab2e49aaa4e3c87046e69989","id":"5f8c4f9ffc0c467ead625090996ca3db"}],"id":"d19d448f83b6446d9390e0471773212a"}],"script_variables":[],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"9977372ef1f543beac8699bfa686cc89","name":"needlt_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"0718f9c19d8f48d5bbe26eefbc8d75c8","name":"needit_list"},{"type":"True/False","id":"c648ab3dc45b4441b1baa1f49c3233f9","name":"search_again"},{"type":"Date/Time","mode":"date","id":"d1e5ac1b97004ab58ac245592f058d9e","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"8f3b9742c4134e85befe1fa4fb51767f","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"ShortDescription","element":"short"},{"name":"When Need","element":"when"},{"name":"Nothing","element":"none"}],"id":"80c0c111d682457da0c1e46e909dcdcb","name":"what_to_update_"},{"type":"String","name":"new_short_description","id":"8ae3a1731f1945ae8c3c121794302c1d"},{"type":"Reference","table":"x_58872_needit_needit","id":"b10589b8d94b481283bd28f056092deb","name":"change_short_description"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"41a1ec4cdb7773000e6c2946489619ae","id":"c2e9e848dbb773000e6c29464896190b","name":"_PRVW__6c25990c543b7300e1d1751f2165562b","key_phrases":["Update NeedIt Records","change","update","need something"],"nlu_provider":"","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"2222ac80dbb773000e6c294648961992"}</design_definition>
        <design_topic_id>c2e9e848dbb773000e6c29464896190b</design_topic_id>
        <name>_PRVW__6c25990c543b7300e1d1751f2165562b</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-09-05 06:54:44</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>ec25990cdb3b73000e6c29464896192e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_395862_needit_vi">41a1ec4cdb7773000e6c2946489619ae</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">41a1ec4cdb7773000e6c2946489619ae</sys_scope>
        <sys_update_name>sys_cb_design_topic_ec25990cdb3b73000e6c29464896192e</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-09-05 06:54:44</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
